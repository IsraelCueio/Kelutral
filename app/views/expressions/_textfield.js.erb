
    function GetValue(value,blur){
        $('#teste').val();

        let pattern = /[^A-zÀ-ú"'\s]/gi; //Pattern to be removed from the words array
        let sep_pattern = /[^A-zÀ-ú"']/gi; //Pattern to separate words in the array(includes white_space)
        value = value.toLowerCase() //Make input lowercase

        var words_JSON = "<%= @words_JSON.to_json %>"
        words_JSON = words_JSON.replace(/&quot;/ig,'"');
        words_JSON = JSON.parse(words_JSON)
        let existent_words = []

        let last_char = value.slice(-1)
        //Separates the words by white_spaces or special signs(!%&#$ ...)
        if ((last_char.match(pattern) != null) || (last_char == " ") || (blur == true)){
            
            let full_phrase = value.trim()
            //Treats the input for the entry into the words array
            let trtd_value = full_phrase.split(sep_pattern)//Separate the array by special chars and white_spaces
            trtd_value = trtd_value.filter(Boolean)//Remove blanck spaces
            let words = trtd_value
            console.log("words: " + words);
            console.log("frase: " + full_phrase);
            for(var i in words_JSON)
                existent_words.push((words_JSON[i].name).toLowerCase())
            let new_words = words.filter(x => !existent_words.includes(x))
            console.log("Novas palavras: " + new_words)
        }
    }